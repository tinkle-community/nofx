# 🗺️ NOFX 路线图

**语言:** [English](README.md) | [中文](README.zh-CN.md)

NOFX 发展和通用市场扩展的战略规划。

---

## 📋 概述

NOFX 的使命是成为所有金融市场的**通用 AI 交易操作系统**。我们在加密货币市场上经过验证的基础设施正在扩展到股票、期货、期权、外汇等领域。

**愿景：** 相同架构。相同智能体框架。所有市场。

---

## 🎯 短期路线图

### 阶段1: 核心基础设施增强

#### 1.1 安全性增强
**目标：** 保护敏感数据，减少安全漏洞

- **凭证管理**
  - [ ] 为数据库中的API密钥实现AES-256加密
  - [ ] 为私钥（Hyperliquid、Aster）添加加密
  - [ ] 为生产环境支持硬件安全模块（HSM）
  - [ ] 实现密钥轮换机制
  - [ ] 为所有凭证访问添加审计日志

- **应用安全**
  - [ ] 输入验证和清理（防止SQL注入、XSS攻击）
  - [ ] API端点的速率限制
  - [ ] CORS策略配置
  - [ ] JWT令牌过期和刷新机制
  - [ ] 实现RBAC（基于角色的访问控制）支持多用户
  - [ ] 添加API访问的IP白名单
  - [ ] 安全头部（CSP、HSTS、X-Frame-Options）

- **运营安全**
  - [ ] 安全密码哈希（bcrypt加盐）
  - [ ] 2FA增强（备份码、多个TOTP设备）
  - [ ] 会话管理（自动登出、并发会话限制）
  - [ ] 密钥管理（环境变量、vault集成）
  - [ ] 定期依赖项漏洞扫描

#### 1.2 增强AI能力
**目标：** 更丰富的prompts、灵活配置、支持更多AI模型

- **Prompt系统全面改造**
  - [ ] 动态prompt生成的模板引擎
  - [ ] 多语言prompt支持（思维链、few-shot、zero-shot）
  - [ ] 基于市场状况的prompt切换（牛市、熊市、震荡）
  - [ ] 在prompts中集成历史绩效反馈
  - [ ] Prompt版本控制和A/B测试框架
  - [ ] 通过Web界面自定义prompt模板

- **AI模型集成**
  - [ ] OpenAI GPT-4/GPT-4 Turbo支持
  - [ ] Anthropic Claude 3（Opus、Sonnet、Haiku）集成
  - [ ] Google Gemini Pro支持
  - [ ] 本地LLM支持（通过Ollama的Llama、Mistral）
  - [ ] 多模型集成（投票、加权平均）
  - [ ] 模型性能跟踪和自动选择
  - [ ] 主模型失败时的降级机制

- **AI决策引擎**
  - [ ] 每个决策的置信度评分
  - [ ] 解释生成（为什么做这笔交易？）
  - [ ] AI推理中的风险评估集成
  - [ ] 市场状态检测（趋势、均值回归、高波动）
  - [ ] 与技术指标的交叉验证

#### 1.3 交易所集成扩展
**目标：** 支持更多CEX和流行的perp-DEX，现货和合约

- **中心化交易所（CEX）**
  - [ ] **OKX** - 合约 + 现货交易
  - [ ] **Bybit** - 合约 + 现货交易
  - [ ] **Bitget** - 合约 + 现货交易
  - [ ] **Gate.io** - 合约 + 现货交易
  - [ ] **KuCoin** - 合约 + 现货交易
  - [ ] 统一的CEX接口，便于添加新交易所

- **去中心化永续交易所（Perp-DEX）**
  - [x] **Hyperliquid**（Ethereum L1）- 高性能订单簿DEX（✅ 已支持）
  - [x] **Aster**（多链）- Binance兼容API的DEX（✅ 已支持）
  - [ ] **Lighter**（Arbitrum）- 无Gas订单簿DEX，链下撮合
  - [ ] **EdgeX**（多链）- 专业衍生品DEX
  - [ ] 统一的DEX接口，保证集成一致性
  - [ ] 增强Hyperliquid集成（测试网支持、高级订单类型）
  - [ ] 增强Aster集成（跨链支持、钱包管理）

- **现货 + 合约支持**
  - [ ] 双模式交易（现货套利、合约对冲）
  - [ ] 跨交易所套利检测
  - [ ] 现货和合约的统一持仓跟踪
  - [ ] 现货和永续策略之间的自动转换

- **交易所基础设施**
  - [ ] **交易数据分析API集成**（自研）
    - [ ] AI500集成 - 自研AI选币模型
    - [ ] OI（持仓量）分析 - 实时持仓量跟踪和异常检测
    - [ ] NetFlow分析 - 链上资金流向分析，用于市场情绪判断
    - [ ] 市场情绪聚合器 - 整合多个数据源，增强AI决策能力
    - [ ] 自定义指标API - 支持专有技术指标
  - [ ] 自动精度处理（数量、价格小数位）
  - [ ] 订单类型抽象（市价、限价、止损、止盈）
  - [ ] 统一的错误处理和重试逻辑
  - [ ] 实时数据的WebSocket支持
  - [ ] 每个交易所的速率限制管理

#### 1.4 项目结构重构
**目标：** 清晰层次、高内聚低耦合、易于扩展和维护

- **架构重新设计**
  - [ ] 实现分层架构（表现层 → 业务逻辑层 → 数据访问层）
  - [ ] 应用SOLID原则（特别是里氏替换原则用于交易所适配器）
  - [ ] 为所有交易所实现提取通用接口
  - [ ] 分离关注点：交易逻辑、数据获取、决策制定、执行
  - [ ] 实现依赖注入以提高可测试性

- **代码组织**
  - [ ] 将单体模块重构为更小、更专注的包
  - [ ] 为traders、exchanges、AI模型创建抽象基类
  - [ ] 实现工厂模式用于交易所/AI模型的创建
  - [ ] 标准化所有模块的错误处理和日志记录
  - [ ] 消除循环依赖并改进导入结构

- **配置管理**
  - [ ] 将所有配置集中到结构化配置文件中
  - [ ] 实现非关键配置的热重载
  - [ ] 启动时验证配置并提供清晰的错误消息
  - [ ] 支持环境特定配置（dev/staging/production）

#### 1.5 用户体验改进
**目标：** 增强Web界面、更好的监控和告警系统

- **Web界面增强**
  - [ ] 移动端响应式设计（平板和手机支持）
  - [ ] 深色/浅色主题切换并保存用户偏好
  - [ ] TradingView小部件集成的高级图表
  - [ ] 实时WebSocket更新（替代持仓/订单的轮询）
  - [ ] 拖拽式仪表板自定义
  - [ ] 多语言支持（EN、CN、RU、UK）

- **配置界面**
  - [ ] 可视化策略构建器（无代码流程图）
  - [ ] 保存前的实时配置预览
  - [ ] 常用策略的配置模板
  - [ ] 批量trader管理（启动/停止多个traders）
  - [ ] 交易所凭证测试（保存前验证）
  - [ ] AI模型测试界面（部署前测试prompts）

- **监控与分析**
  - [ ] 实时性能仪表板和关键指标
  - [ ] 权益曲线可视化（每个trader、每个交易所、总体）
  - [ ] 回撤分析和风险指标
  - [ ] 带过滤和搜索的交易历史
  - [ ] 按币种、时间段、策略的盈亏分解
  - [ ] 比较视图（多个traders并排）
  - [ ] 导出功能（CSV、JSON、PDF报告）

- **告警与通知系统**
  - [ ] 多渠道告警（Email、Telegram、Discord、Webhook）
  - [ ] 可配置的告警规则（利润阈值、亏损限制、错误检测）
  - [ ] 告警优先级（严重、警告、信息）
  - [ ] 告警历史和确认跟踪
  - [ ] 每日/每周性能摘要邮件
  - [ ] 系统健康监控（API连接、数据库状态）

### 阶段2: 测试与稳定性

#### 2.1 质量保证
- [ ] 全面的单元测试覆盖率（>80%）
- [ ] 所有交易所适配器的集成测试
- [ ] 负载测试（100+并发交易者）
- [ ] 安全审计（API密钥加密、SQL注入防护）

#### 2.2 文档
- [ ] 完整的API参考文档
- [ ] 新手视频教程
- [ ] 策略开发指南
- [ ] 故障排查手册

#### 2.3 社区功能
- [ ] 公开策略市场（分享/出售策略）
- [ ] 经过验证的绩效排行榜
- [ ] 社区论坛集成
- [ ] 漏洞赏金计划

---

## 🚀 长期路线图

### 阶段3: 通用市场扩展

**目标：** 将经过验证的加密货币交易基础设施扩展到所有主要金融市场。

#### 3.1 股票市场
- [ ] 美股（Interactive Brokers、Alpaca Markets）
- [ ] 亚洲市场（A股、香港、日本）
- [ ] 基本面分析集成（财报、市盈率、股息）
- [ ] AI驱动的股票筛选

#### 3.2 期货市场
- [ ] 商品期货（能源、金属、农产品）
- [ ] 指数期货（标普500、纳斯达克、道琼斯、VIX）
- [ ] 展期管理和价差交易

#### 3.3 期权交易
- [ ] 期权链数据和Greeks计算
- [ ] 股票、指数和加密期权
- [ ] 期权策略构建器

#### 3.4 外汇市场
- [ ] 主要货币对和稀有货币对
- [ ] 利率分析和套息交易支持

---

### 阶段4: 高级AI与自动化

**目标：** 实现前沿AI技术用于自主交易。

- [ ] 多智能体编排（专业化智能体与动态协调）
- [ ] 强化学习（DQN、PPO、迁移学习）
- [ ] 替代数据集成（社交情绪、新闻、链上分析）

---

### 阶段5: 企业级与扩展

**目标：** 扩展基础设施以支持机构使用和高频交易。

- [ ] 数据库迁移（PostgreSQL/MySQL、Redis、TimescaleDB）
- [ ] 微服务架构与Kubernetes部署
- [ ] 多用户RBAC和白标解决方案
- [ ] 高级分析和合规报告

---

## 📊 关键指标与里程碑

### 短期目标
- [ ] 所有交易所支持**100+**交易对
- [ ] **10,000+**活跃交易者实例
- [ ] **5+**新交易所集成
- [ ] **80%+**测试覆盖率
- [ ] **99.9%**正常运行时间

### 长期目标
- [ ] 支持**所有主要资产类别**（加密、股票、期货、期权、外汇）
- [ ] **50,000+**活跃用户
- [ ] **企业级**版本发布
- [ ] 建立**机构合作伙伴关系**

---

## 🤝 社区参与

我们欢迎社区贡献来加速我们的路线图：

- **功能投票**: 加入我们的[Telegram社区](https://t.me/nofx_dev_community)投票优先功能
- **贡献代码**: 查看我们的[贡献指南](../../CONTRIBUTING.md)
- **漏洞赏金**: 报告问题并获得奖励
- **策略分享**: 分享你的成功策略

---

## 📝 路线图更新

本路线图根据以下因素每季度审查和更新：
- 社区反馈
- 市场需求
- 技术可行性
- 资源可用性

**最后更新:** 2025-11-01

---

## 📚 相关文档

- [架构文档](../architecture/README.zh-CN.md) - 技术架构详情
- [快速开始](../getting-started/README.zh-CN.md) - 设置和部署
- [贡献指南](../../CONTRIBUTING.md) - 如何贡献
- [更新日志](../../CHANGELOG.zh-CN.md) - 版本历史

---

[← 返回文档主页](../README.md)
